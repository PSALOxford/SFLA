# Strengthened and Faster Linear Approximation

This repository contains codes for our paper "Strengthened and Faster Linear Approximation
to Joint Chance Constraints with Wasserstein Ambiguity".

## File Description
It contains the following files and folders:
### Part 0: Supplementary Mathematical Formulations
- [supp_formulations.pdf](./supp_formulations.pdf): This PDF document provides the detailed mathematical formulations of the chance-constrained UC and bilevel problems examined in the numerical case studies of our paper ``Strengthened and Faster Linear Approximation to Joint Chance Constraints with Wasserstein Ambiguity''.
### Part I: Packages and Installation
- `requirements.txt`: The required packages for the code.
- `command_env_creation.txt`: The command for creating the conda environment.
### Part II: Data
- `data/`: The folder containing the data files (load data, wind forecast and forecasting errors).
- `GEFC2012_wind.ipynb`: The notebook for processing and generating wind forecasting error scenarios, based on GEFC2012 Bronze Medal forecasting results and groud truth.
### Part III: Codes for Numerical Experiments
- `SUC.py`: The code for solving chance-constrained unit commitment problem. This code sets up the corresponding optimization problem for each benchmark methods of RHS-WDRJCC.
It can also be used for testing a specific parameter setting.
- `SUC_all_param_eval.py`: This code is used for evaluating all parameter settings for all methods as done in our paper. Joblib is used for parallel computing. Be aware about your available CPU cores when specifying the njobs.
  
In the SUC code scripts, 'proposed' represents the proposed SFLA, 'ori' represents the LA benchmark in our paper, and 'exact' stands for ExactS.
- `Bilevel_Storage.py`: This is similar to `SUC.py`, but for the bilevel strategic bidding problem.
- `Bilevel_Storage_all_param_eval.py`: This is similar to `SUC_all_param_eval.py`, but for the bilevel strategic bidding problem.

In the Bilevel code scripts, 'proposed' represents the proposed SFLA, and 'linearforN' represents the LA benchmark in our paper.

**Note that, the two code scripts** `SUC_all_param_eval.py` **and** `Bilevel_Storage_all_param_eval.py` **run n_jobs (16 for SUC or 30 for Bilevel) parameter settings in parallel, with each job (solver) uses 4 CPU threads. You should adjust n_jobs based on the number of CPU threads and memory (RAM) available on your own machine!**

### Part IV: Results
- `SUC_results_bigM100000_thread4/`: The folder containing the results of the chance-constrained unit commitment problem with big-M=100000 and 4 threads per optimization problem.
- `Bilevel_results_bigM100000_thread4/`: Similar to `SUC_results_bigM100000_thread4/`, but for the bilevel strategic bidding problem.
### Part V: Visualization
- `SUC_result_vis.ipynb`: The notebook for visualizing the results of the chance-constrained unit commitment problem, based on the result files in `SUC_results_bigM100000_thread4/`.
- `Bilevel_result_vis.ipynb`: Similar to `SUC_result_vis.ipynb`, but for the bilevel strategic bidding problem.
- `figure/`: The folder containing the figures generated by the above two notebooks.
### Miscellaneous
- `Compare_SFLA_LA.py`: This code verifies that the proposed SFLA can be a proper superset of (strictly dominant) LA for general settings of $\mathbf{\kappa}$.
---
If you find this repository helpful, please cite our paper:
> Yihong Zhou, Yuxin Xia, Hanbin Yang, Thomas Morstyn (2024). Strengthened and Faster Linear Approximation to Joint Chance Constraints with Wasserstein Ambiguity. to be released.
